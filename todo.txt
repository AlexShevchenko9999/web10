re check subscriptions on replenish date
break out front end code to tidy it up 